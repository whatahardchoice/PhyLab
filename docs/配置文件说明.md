# Phylab 配置文件说明

以下路径均以**Phylab**目录为相对路径。

## .env

该文件为环境变量文件，往往一些较为全局的配置可以放在这里。在代码中可以用如下方式调用.env中的变量。

```
env('KEY', 'default_value')
```

.env文件中以`KEY=value`的形式定义变量。如果没有.env文件请复制一份.env.example文件并重命名为.env。

**.env不应被放到GitHub上面！！！**

### 变量说明

* APP_ENV

  运行环境定义，一些有用的写法包括：local（本地）、production（发布环境）、testing（测试环境）

* APP_DEBUG

  是否开启debug，默认false

* APP_KEY

  Laravel的Key，默认不需要改动

* DB_HOST

  数据库ip地址，默认是本地的

* DB_DATABASE

  数据库名称，默认是Phylab_db

* DB_USERNAME

  数据库帐号，推荐不要使用root

* DB_PASSWORD

  数据库密码

* CACHE_DRIVER/SESSION_DRIVER/QUEUE_DRIVER

  一些Laravel高级功能的驱动器定义，例如CACHE_DRIVER默认使用file（文件）作为缓存系统的媒介，当然你可以使用例如Redis或者Memcached这类基于内存的缓存库使用。一般情况下这里不需要改动

* MAIL_DRIVER

  邮件服务类型，一般就是SMTP。Phylab使用此处定义的邮件发送重置密码链接。

* MAIL_HOST

  邮件服务器地址，一般就是服务商使用的SMTP服务器地址。例如smtp.163.com

* MAIL_PORT

  邮件服务器端口号，非ssl一般使用25，ssl使用465。

* MAIL_USERNAME

  邮箱用户名

* MAIL_PASSWORD

  邮箱密码（也可能是服务商要求的SMTP专用密码/key）

* MAIL_ENCRYPTION

  加密类型，无则填写null，使用ssl的话填写ssl

* SERVER_PAGE

  代码中部分地方使用的网站基地址，使用方式形如：`http://xxx.xxx.xxx.xxx/`



## config/phylab.php

config目录下的每个文件中为一段php代码，返回一个字典，其中包括各种配置信息。

config目录下的配置大多在代码中以如下方式使用：

```
Config::get('configFileName.config');
```

例如`Config::get('phylab.starPath')`会获取phylab.php中的starPath条目。

### 关于该配置文件中出现的一些函数

在该配置文件中你可以看到以下几个函数

```
public_path()
storage_path()
base_path('path/')
```

这些是Laravel提供的一些用于访问工程下对应目录的函数。以上几个分别对应public文件夹、storage文件夹以及Phylab根目录。

注意在Laravel5.1还没有resource_path()这个函数，暂时可以用base_path('resources')代替。

### 变量说明

* starPath

  用户收藏的pdf文件存储位置

* tmpReportPath

  用户生成的pdf文件及html文档/图片存储位置

* scriptPath

  数据处理脚本所在目录

* tmpXmlPath

  用户上传的数据文件所在目录

* experimentViewPath

  实验表格html所在目录

* defaultAvatarPath

  默认头像（貌似不起作用）

* avatarPath

  用户上传头像路径

* cssPath

  css文件所在路径

* jsPath

  js文件所在路径

* preparePath

  预习报告pdf所在位置

* desexpPath

  设计性实验html所在位置

* allowedFileFormat

  头像上传允许的文件类型

* maxUploadSize

  最大可上传文件大小

* starMaxCount

  最多可收藏条目